author: yb
*可用Alt+Shift+Y自动换行后查看

7/26
尝试利用例程播放音频，根据指导书、例程文件名及历程内容推知需播放8bit音频文件。存在 'large code model not supported' 警告，无法烧录代码。新建项目，提取例程代码内容重写，警告消失，但并未找到合适的8位音频文件，播放无声音。例程无法播放音乐，搁置。


8/14
恢复工作。找到合适的8位音频用于测试，连接硬件上的P_AMP_IN和dac_out，实现音频播放。依据例程代码优化重写，删除大量多余内容。发现可修改properties解决 'large code model' 警告。调节每帧播放延时对齐音频采样率。

8/15
测试极限采样率，调整播放效果，调整编译优化为最大速度优化，最终可实现22.050kHz音频播放，44.100kHz则速度不够，可考虑将主频拉至25MHz。将例程代码播放延时由delay函数改为定时器，便于后续添加播放功能。将系统时钟改为惯用配置。优化例程代码，删除多余内容。

8/16
尝试采用高低字节移位拼接方式播放16bit音频，进一步利用12bitDac分辨率，存在高低字节错位问题，读取并播放时难以正确分辨高低字节，实际播放效果较差，暂时放弃。后续尝试可考虑更改文件读取函数，单片机平台为16位系统，理论可行。优化例程代码，删除多余内容。

8/17
整理代码，优化。将例程代码的按键检测由定时扫描改为按键中断，添加模式切换功能。墨水屏无法工作，用以往代码测试仍无法显示。添加led指示工作模式。添加播放列表至9首音乐，实现模式切换功能。其他待实现功能均待硬件调试，搁置。



8/22
测试发现墨水屏可以正常显示。进一步调试发现与音乐播放一同工作时会导致音乐无法播放。

8/23
将墨水屏新增代码逐项调试，发现例程中<include.h>文件编译时存在问题，其余部分正常。调整文件内容，删除多余部分，实现屏幕显示及音频播放。

8/24
设计显示内容，将墨水屏地址刷新模式改为长轴方向，上半部分用于显示文件信息，下半部分用于显示模式信息。优化代码。

8/25
实现音频播放、墨水屏显示。为其他功能搭建系统框架。完成红外线感应代码，但并未切换至低功耗模式，仅为while循环等待。

8/27
调整注释，调整变量结构

8/30
实现手势控制，调整主函数结构，暂停手势不完善

8/31
实现红外感应，LED音量柱

9/1
完善音量柱，搭建总体硬件结构，上电初始化变量有问题，需多次上电才可使墨水屏正常工作

9/2
墨水屏问题来自LED管脚复用，将借用的3个管脚驱动强度寄存器置高，解决问题